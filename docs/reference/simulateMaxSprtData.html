<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Simulate survival data for MaxSPRT computation — simulateMaxSprtData • EmpiricalCalibration</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Simulate survival data for MaxSPRT computation — simulateMaxSprtData" />
<meta property="og:description" content="Simulate survival data for MaxSPRT computation" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">EmpiricalCalibration</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/EmpiricalCiCalibrationVignette.html">Empirical calibration of confidence intervals</a>
    </li>
    <li>
      <a href="../articles/EmpiricalMaxSprtCalibrationVignette.html">Empirical calibration and MaxSPRT</a>
    </li>
    <li>
      <a href="../articles/EmpiricalPCalibrationVignette.html">Empirical calibration of p-values</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://ohdsi.github.io/Hades"><img src='https://ohdsi.github.io/Hades/images/hadesMini.png' width=80 height=17 style='vertical-align: top;'></a>
</li>
<li>
  <a href="https://github.com/OHDSI/EmpiricalCalibration/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Simulate survival data for MaxSPRT computation</h1>
    <small class="dont-index">Source: <a href='https://github.com/OHDSI/EmpiricalCalibration/blob/master/R/Simulation.R'><code>R/Simulation.R</code></a></small>
    <div class="hidden name"><code>simulateMaxSprtData.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Simulate survival data for MaxSPRT computation</p>
    </div>

    <pre class="usage"><span class='fu'>simulateMaxSprtData</span><span class='op'>(</span>
  n <span class='op'>=</span> <span class='fl'>10000</span>,
  pExposure <span class='op'>=</span> <span class='fl'>0.5</span>,
  backgroundHazard <span class='op'>=</span> <span class='fl'>0.001</span>,
  tar <span class='op'>=</span> <span class='fl'>10</span>,
  nullMu <span class='op'>=</span> <span class='fl'>0.2</span>,
  nullSigma <span class='op'>=</span> <span class='fl'>0.2</span>,
  maxT <span class='op'>=</span> <span class='fl'>100</span>,
  looks <span class='op'>=</span> <span class='fl'>10</span>,
  numberOfNegativeControls <span class='op'>=</span> <span class='fl'>50</span>,
  numberOfPositiveControls <span class='op'>=</span> <span class='fl'>1</span>,
  positiveControlEffectSize <span class='op'>=</span> <span class='fl'>4</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>n</th>
      <td><p>Number of subjects.</p></td>
    </tr>
    <tr>
      <th>pExposure</th>
      <td><p>Probability of being in target cohort.</p></td>
    </tr>
    <tr>
      <th>backgroundHazard</th>
      <td><p>Background hazard (risk of the outcome per day).</p></td>
    </tr>
    <tr>
      <th>tar</th>
      <td><p>Time at risk for each exposure</p></td>
    </tr>
    <tr>
      <th>nullMu</th>
      <td><p>Null distribution mean (at log HR scale)</p></td>
    </tr>
    <tr>
      <th>nullSigma</th>
      <td><p>Null distribution SD (at log HR scale)</p></td>
    </tr>
    <tr>
      <th>maxT</th>
      <td><p>Maximum time to simulate.</p></td>
    </tr>
    <tr>
      <th>looks</th>
      <td><p>Number of (evenly spaced) looks at the data.</p></td>
    </tr>
    <tr>
      <th>numberOfNegativeControls</th>
      <td><p>Number of negative controls to simulate.</p></td>
    </tr>
    <tr>
      <th>numberOfPositiveControls</th>
      <td><p>Number of positive controls to simulate.</p></td>
    </tr>
    <tr>
      <th>positiveControlEffectSize</th>
      <td><p>The true effect size of the positive controls.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame with 5 variables:</p><dl>
<dt>time</dt><dd><p>Time from index date to either the event or 
end of observation, whichever came first</p></dd> <dt>outcome</dt><dd><p>Whether the outcome occurred (1) or not (0)</p></dd> <dt>exposure</dt><dd><p>Whether 
the subject was exposed (TRUE) or not (FALSE)</p></dd> <dt>lookTime</dt><dd><p>The time point when the look occurred.</p></dd> <dt>outcomeId</dt><dd><p>A unique 
identifier for data corresponding to a single outcome. Lower IDs indicate negative controls, higher IDs indicate the positive control</p></dd> 
</dl>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Simulate survival data for negative and positive controls. The data provides multiple looks at data accruing over time, with 
each look having more data than the one before. Systematic error for each outcome is drawn from the prespecified null distribution.</p>
<p>The outcome IDs are assigned sequentially starting at 1, with the first IDs used for the negative controls, and the latter IDs used
for the positive controls.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>data</span> <span class='op'>&lt;-</span> <span class='fu'>simulateMaxSprtData</span><span class='op'>(</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>)</span>
</div><div class='output co'>#&gt;        time outcome exposure lookTime outcomeId
#&gt; 7  4.479175       0    FALSE       10         1
#&gt; 15 2.408772       0    FALSE       10         1
#&gt; 17 5.170256       0    FALSE       10         1
#&gt; 25 1.557692       0    FALSE       10         1
#&gt; 43 9.448389       0     TRUE       10         1
#&gt; 47 4.936019       0    FALSE       10         1</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Martijn Schuemie, Marc Suchard.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


