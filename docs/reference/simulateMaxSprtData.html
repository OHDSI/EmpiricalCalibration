<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Simulate survival data for MaxSPRT computation — simulateMaxSprtData • EmpiricalCalibration</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Simulate survival data for MaxSPRT computation — simulateMaxSprtData"><meta property="og:description" content="Simulate survival data for MaxSPRT computation"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">EmpiricalCalibration</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/EmpiricalCiCalibrationVignette.html">Empirical calibration of confidence intervals</a>
    </li>
    <li>
      <a href="../articles/EmpiricalMaxSprtCalibrationVignette.html">Empirical calibration and MaxSPRT</a>
    </li>
    <li>
      <a href="../articles/EmpiricalPCalibrationVignette.html">Empirical calibration of p-values</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://ohdsi.github.io/Hades" class="external-link"><img src='https://ohdsi.github.io/Hades/images/hadesMini.png' width=80 height=17 style='vertical-align: top;'></a>
</li>
<li>
  <a href="https://github.com/OHDSI/EmpiricalCalibration/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Simulate survival data for MaxSPRT computation</h1>
    <small class="dont-index">Source: <a href="https://github.com/OHDSI/EmpiricalCalibration/blob/HEAD/R/Simulation.R" class="external-link"><code>R/Simulation.R</code></a></small>
    <div class="hidden name"><code>simulateMaxSprtData.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Simulate survival data for MaxSPRT computation</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">simulateMaxSprtData</span><span class="op">(</span></span>
<span>  n <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>  pExposure <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  backgroundHazard <span class="op">=</span> <span class="fl">0.001</span>,</span>
<span>  tar <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  nullMu <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>  nullSigma <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>  maxT <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  looks <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  numberOfNegativeControls <span class="op">=</span> <span class="fl">50</span>,</span>
<span>  numberOfPositiveControls <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  positiveControlEffectSize <span class="op">=</span> <span class="fl">4</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>n</dt>
<dd><p>Number of subjects.</p></dd>


<dt>pExposure</dt>
<dd><p>Probability of being in target cohort.</p></dd>


<dt>backgroundHazard</dt>
<dd><p>Background hazard (risk of the outcome per day).</p></dd>


<dt>tar</dt>
<dd><p>Time at risk for each exposure</p></dd>


<dt>nullMu</dt>
<dd><p>Null distribution mean (at log HR scale)</p></dd>


<dt>nullSigma</dt>
<dd><p>Null distribution SD (at log HR scale)</p></dd>


<dt>maxT</dt>
<dd><p>Maximum time to simulate.</p></dd>


<dt>looks</dt>
<dd><p>Number of (evenly spaced) looks at the data.</p></dd>


<dt>numberOfNegativeControls</dt>
<dd><p>Number of negative controls to simulate.</p></dd>


<dt>numberOfPositiveControls</dt>
<dd><p>Number of positive controls to simulate.</p></dd>


<dt>positiveControlEffectSize</dt>
<dd><p>The true effect size of the positive controls.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A data frame with 5 variables:</p><dl><dt>time</dt>
<dd><p>Time from index date to either the event or
end of observation, whichever came first</p></dd>
 <dt>outcome</dt>
<dd><p>Whether the outcome occurred (1) or not (0)</p></dd>
 <dt>exposure</dt>
<dd><p>Whether
the subject was exposed (TRUE) or not (FALSE)</p></dd>
 <dt>lookTime</dt>
<dd><p>The time point when the look occurred.</p></dd>
 <dt>outcomeId</dt>
<dd><p>A unique
identifier for data corresponding to a single outcome. Lower IDs indicate negative controls, higher IDs indicate the positive control</p></dd>
 
</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>Simulate survival data for negative and positive controls. The data provides multiple looks at data accruing over time, with
each look having more data than the one before. Systematic error for each outcome is drawn from the prespecified null distribution.</p>
<p>The outcome IDs are assigned sequentially starting at 1, with the first IDs used for the negative controls, and the latter IDs used
for the positive controls.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">simulateMaxSprtData</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        time outcome exposure lookTime outcomeId</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29 7.078686       0    FALSE       10         1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 51 2.834933       0     TRUE       10         1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 53 5.614197       0     TRUE       10         1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 54 9.050227       0     TRUE       10         1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 57 5.867297       0    FALSE       10         1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 64 8.264407       0     TRUE       10         1</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Martijn Schuemie, Marc Suchard.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.5.</p>
</div>

      </footer></div>

  


  

  </body></html>

